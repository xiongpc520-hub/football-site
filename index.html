<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>FootBili - Data Science Edition</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body { margin: 0; font-family: 'PingFang SC', sans-serif; background-color: #f4f5f7; }
        .header { background: white; padding: 10px 20px; display: flex; align-items: center; justify-content: space-between; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .search-bar { background: #f4f5f7; border-radius: 20px; padding: 8px 20px; width: 400px; border: none; }
        .nav-bar { padding: 15px 50px; display: flex; gap: 20px; font-size: 14px; color: #61666d; }
        .nav-item:hover { color: #00a1d6; cursor: pointer; }
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; padding: 20px 50px; }
        
        .video-card { background: white; border-radius: 6px; overflow: hidden; cursor: pointer; transition: transform 0.2s; }
        .video-card:hover { transform: translateY(-5px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .thumbnail { height: 160px; background-color: #333; position: relative; }
        .thumbnail img { width: 100%; height: 100%; object-fit: cover; }
        .info { padding: 10px; }
        .title { font-size: 14px; font-weight: 500; height: 40px; overflow: hidden; margin-bottom: 5px;}
        .stats { font-size: 12px; color: #999; display: flex; justify-content: space-between; }
        .tag { position: absolute; bottom: 5px; right: 5px; background: rgba(0,0,0,0.6); color: white; padding: 2px 5px; font-size: 12px; border-radius: 4px; }

        /* å‡çº§ç‰ˆå¼¹çª—ï¼šå·¦è¾¹æ’­æ”¾ï¼Œå³è¾¹æ¨è */
        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); display: flex; justify-content: center; align-items: center; z-index: 1000; }
        /* å®½åº¦å˜å®½ï¼Œå®¹çº³æ¨èåˆ—è¡¨ */
        .modal-content { width: 90%; max-width: 1000px; height: 500px; background: #1f1f1f; display: flex; border-radius: 8px; overflow: hidden; }
        
        /* å·¦ä¾§æ’­æ”¾å™¨ */
        .player-section { flex: 3; background: black; position: relative; }
        iframe { width: 100%; height: 100%; border: none; }
        
        /* å³ä¾§æ¨èåˆ—è¡¨ */
        .recommend-section { flex: 1; padding: 20px; overflow-y: auto; color: white; border-left: 1px solid #333; }
        .rec-title { font-size: 16px; font-weight: bold; margin-bottom: 15px; color: #00a1d6; }
        .rec-item { display: flex; gap: 10px; margin-bottom: 15px; cursor: pointer; padding: 5px; border-radius: 4px; }
        .rec-item:hover { background: #333; }
        .rec-img { width: 80px; height: 50px; background: #555; border-radius: 4px; object-fit: cover; }
        .rec-info { font-size: 12px; display: flex; flex-direction: column; justify-content: space-between; }
        .rec-score { color: #ff5000; font-weight: bold; }

        .close-btn { position: absolute; top: 10px; right: 10px; color: white; background: rgba(0,0,0,0.5); width: 30px; height: 30px; text-align: center; line-height: 30px; border-radius: 50%; cursor: pointer; z-index: 100; }
    </style>
</head>
<body>

    <div id="app">
        <div class="header">
            <div style="font-weight:bold; color:#00a1d6; font-size:20px;">FootBili AI âš½</div>
            <input type="text" class="search-bar" placeholder="AI æ¨èå¼•æ“å·²å°±ç»ª..." v-model="searchQuery">
            <div>xbeeear (æ•°æ®ç§‘å­¦å®¶)</div>
        </div>

        <div class="nav-bar">
            <div class="nav-item" style="color:#00a1d6; font-weight:bold;">é¦–é¡µæ¨è</div>
            <div class="nav-item">è‹±è¶…</div>
            <div class="nav-item">æˆ˜æœ¯åˆ†æ</div>
            <div class="nav-item">çƒæ˜Ÿé›†é”¦</div>
        </div>

        <div class="video-grid">
            <div class="video-card" v-for="video in videos" :key="video.id" @click="playVideo(video)">
                <div class="thumbnail">
                    <img :src="video.pic" alt="å°é¢">
                    <div class="tag">{{ video.duration }}</div>
                </div>
                <div class="info">
                    <div class="title">{{ video.title }}</div>
                    <div class="stats">
                        <span>UP: {{ video.author }}</span>
                        <span>ğŸ”¥ {{ video.play }}</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-overlay" v-if="currentVideo" @click.self="currentVideo = null">
            <div class="modal-content">
                <div class="player-section">
                     <div class="close-btn" @click="currentVideo = null">Ã—</div>
                    <iframe :src="`//player.bilibili.com/player.html?bvid=${currentVideo.id}&page=1&high_quality=1&danmaku=0`" allowfullscreen="true"></iframe>
                </div>

                <div class="recommend-section">
                    <div class="rec-title">âœ¨ AI çŒœä½ å–œæ¬¢</div>
                    
                    <div class="rec-item" v-for="rec in currentVideo.related" @click="playRec(rec)">
                        <img :src="rec.pic" class="rec-img">
                        <div class="rec-info">
                            <div style="line-height: 1.2;">{{ rec.title }}</div>
                            <div class="rec-score">åŒ¹é…åº¦: {{ (rec.score * 100).toFixed(0) }}%</div>
                        </div>
                    </div>

                    <div v-if="!currentVideo.related || currentVideo.related.length === 0" style="color:#666; font-size:12px;">
                        æš‚æ— ç›¸å…³æ¨è<br>(æ•°æ®é‡å¤ªå°‘å•¦)
                    </div>
                </div>
            </div>
        </div>

    </div>

    <script>
        const { createApp } = Vue

        createApp({
            data() {
                return {
                    searchQuery: '',
                    currentVideo: null,
                    videos: [] 
                }
            },
            mounted() {
                // ã€å…³é”®ä¿®æ”¹ã€‘è¿™é‡Œæ”¹æˆè¯»å– AI ç”Ÿæˆçš„ json æ–‡ä»¶
                fetch('./data_with_ai.json')
                    .then(response => response.json())
                    .then(data => {
                        this.videos = data;
                        console.log("AI æ•°æ®åŠ è½½æˆåŠŸï¼");
                    })
                    .catch(err => console.error("è¯»å–å¤±è´¥ï¼Œè¯·æ£€æŸ¥ data_with_ai.json æ˜¯å¦å­˜åœ¨"));
            },
            methods: {
                playVideo(video) {
                    this.currentVideo = video;
                },
                // å¤„ç†æ¨èè§†é¢‘ç‚¹å‡»ï¼šè™½ç„¶æˆ‘ä»¬åªæœ‰æ ‡é¢˜æ²¡æœ‰ID(ç®€æ˜“ç‰ˆ)ï¼Œä½†è‡³å°‘æ¼”ç¤ºä¸€ä¸‹äº¤äº’
                playRec(rec) {
                    alert("æ­£åœ¨è·³è½¬åˆ°æ¨èè§†é¢‘ï¼š" + rec.title + "\n(å®Œæ•´ç‰ˆéœ€è¦æ•°æ®åº“å­˜IDå“¦)");
                }
            }
        }).mount('#app')
    </script>
</body>
</html>